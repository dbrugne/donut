.body-chat { height: 100%; overflow-y: hidden; .ft-opensans; }
.tooltip-home-users { padding: 0 !important; margin-left: 0 !important; margin-top: -2px;
  .tooltip-inner { background-color: transparent; padding: 0; border: 0; max-width: initial; .border-radius(0);
    .username { max-width: 200px; padding: 3px 8px; color: #fff; line-height: 24px; font-size: 12px; text-align: center; }
    &.left .username {
      .border-radiuses(0,0,4px,4px);
    }
    &.right .username {
      margin-top: -1px;
      .border-radiuses(4px,4px,0,0);
    }
  }
}
.mail-not-confirmed { margin: 1rem; }
#popin-user { width: 350px; bottom: initial; overflow: visible; z-index: 2; .transition(none);
  .arrow-right:before { z-index: 2; content: ""; width: 0; height: 0; border-style: solid; border-width: 10px 0 10px 7px; border-color: transparent transparent transparent #fff; position: absolute; right: -7px; top: 4px; }
  .arrow-right:after { z-index: 1; content: ""; width: 0; height: 0; border-style: solid; border-width: 12px 0 12px 8px; border-color: transparent transparent transparent #B8B8B8; position: absolute; right: -8px; top: 2px; }
  .modal-dialog { margin:0; .transition(none); width: 350px; }
  .names-ctn { max-width:208px;
    .username, .othername { .ft-opensans-extra-bold; overflow: hidden; text-overflow: ellipsis; padding-left: 2px; }
    .username + .othername { .ft-opensans; color: @cl-subtext20; }
    .location { overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
      i { color:@cl-subtext30; }
    }
  }
  p { margin:0; display:inline; }
  .avatar { width:100px; height:100px; display: block; }
  .modal-footer { border:0; background-color:@cl-subtext5;
    > a { float:left; clear:both; margin-right:5px; cursor:pointer; width: 100%; text-align: left; }
  }
}

//#welcome {
//  .modal-dialog {
//    z-index: 1041; // fix .modal-dialog behind .modal-backdrop for unknown reason
//  }
//  .modal-body {
//    font-size: 1.1em;
//    .room {
//      font-size: 0.9em;
//    }
//  }
//  .modal-footer {
//    span.checkbox {
//      .pull-left;
//      margin: 0;
//    }
//  }
//}

#connection {
  .modal-backdrop {
    background-color: @cl-background;
  }
  .modal-dialog {
    margin-top: 10em;
    //width: 320px;
    .modal-content {
      .modal-body {
        padding: 50px 10px 50px;
        .loader {
          font-size: 38px;
          margin-bottom: 5px;
          text-align: center;
          .ft-opensans-bold;
          color: @cl-subtext30;
          .one {
            opacity: 0;
            -webkit-animation: dot 1.3s infinite;
            -webkit-animation-delay: 0.0s;
            animation: dot 1.3s infinite;
            animation-delay: 0.0s;
          }
          .two {
            opacity: 0;
            -webkit-animation: dot 1.3s infinite;
            -webkit-animation-delay: 0.2s;
            animation: dot 1.3s infinite;
            animation-delay: 0.2s;
          }
          .three {
            opacity: 0;
            -webkit-animation: dot 1.3s infinite;
            -webkit-animation-delay: 0.3s;
            animation: dot 1.3s infinite;
            animation-delay: 0.3s;
          }
          @-webkit-keyframes dot {
            0% {
              opacity: 0;
            }
            50% {
              opacity: 0;
            }
            100% {
              opacity: 1;
            }
          }

          @keyframes dot {
            0% {
              opacity: 0;
            }
            50% {
              opacity: 0;
            }
            100% {
              opacity: 1;
            }
          }
        }
        .hello {
          text-align: center;
          font-size: 20px;
          margin-bottom: 12px;
          color: @cl-subtext50;
        }
        .error-message {
          display: none;
          margin-top: 25px;
          text-align: center;
          color: @cl-error;
        }
        .contactus {
          margin-top: 30px;
          text-align: center;
          font-size: 14px;
          a {
            color: @cl-first;
          }
        }
      }
    }
  }
}
#confirmation {
  .modal-backdrop {
    background-color: @cl-background;
  }
  .modal-dialog {
    margin-top: 10em;
    width: 400px;
    .modal-content {
      .modal-body {
        text-align: center;
        .question {
          margin-bottom: 15px;
        }
        .input, .big-input {
          margin-bottom: 15px;
          label {
            font-weight: normal;
          }
        }
        textarea {
          max-width: 368px;
          max-height: 450px;
        }
        .buttons {
          .cancel {
            .btn;
            .btn-danger;
          }
          .confirm {
            .btn;
            .btn-success;
          }
        }
      }
    }
  }
}

#chat {
  .container-fluid;
  height: 100%;
  margin: 0;
  padding: 0;

  #languages { z-index: 5;
    a { padding: 3px 5px; cursor: pointer; }
  }

  > .row {
    margin: 0; /* Cancel bootstrap negative .row margin */
    height: 100%;
    width: 100%;
  }

  #left { float: left; width: @size-left; background-color: @cl-nav-left-back2; color:@cl-nav-left-text; z-index: 12; position: relative; font-size: 14px; height:100%; .transition(margin-left 300ms); border-left: 2px solid @cl-first;
    .hover-menu { display: none; }
    .mail-not-confirmed { .ft-opensans; font-size: 12px; color: #FFFFFF; line-height: 21px; background: @cl-first; box-shadow: 0 2px 6px 0 rgba(0,0,0,0.50); BORDER-radius: 0; margin: 6px; padding: 10px;
      &::before { content: ""; width: 0; height: 0; border-style: solid; border-width: 0 9px 5px 9px; border-color: transparent transparent @cl-first transparent; position: absolute; top: -5px; left: 8px; }
      strong { .ft-opensans-extra-bold; color: #FFFFFF; }
    }
    #block-current-user { padding: 0.5rem; cursor: pointer; overflow: hidden; .transition(max-height 200ms); max-height: 45px; background-color: @cl-nav-left-back;
      .user-status { .transition(all 300ms ease); border: 3px solid #353F4C; position: absolute; left: 32px; top: 28px; }
      .not-confirmed {     z-index: 1; position: absolute; top: 15px; font-size: 28px; left: 17px; color: @cl-pomegranate; opacity: 0.7; }
      img { width: 35px; height: 35px; }
      i { color: rgba(207,217,229,0.40); }
      &.open { .transition(max-height 400ms); max-height: 600px;
        .dropdown-toggle i { .rotate(180deg); }
      }
      &.open, &:hover { background-color: @cl-nav-left-back2;
        .user-status { border-color: @cl-nav-left-back2; }
      }
      .dropdown-menu { width: 100%; display: block; position:relative; background-color: transparent; .box-shadow(none); border:0; font-family: 'Open Sans',sans-serif; font-weight: 400; font-size: 1.3rem; color: #fff; letter-spacing: 1px; line-height: 14px; text-overflow: ellipsis; overflow: hidden;
        li {
          &:hover {
            background-color: rgba(255,255,255,.2);
            .border-radius(4px);
          }
          &.dropdown-header { color:@cl-nav-left-text-lighter; cursor:default; padding:3px 20px 3px 10px;
            &:hover { background-color: transparent; }
          }
          a { color:@cl-clouds; padding:3px 2px 3px 15px;
            &:hover, &:focus { background-color:transparent; }
          }
        }
        .divider { background-color: rgba(255,255,255,0.2); }
      }
      .dropdown-toggle { width: 100%; padding: 0;
        .username {  .ft-opensans; font-size: 1.3rem; color: #FFFFFF; letter-spacing: 1px; line-height: 14px; max-width: 185px; text-overflow: ellipsis; overflow: hidden; }
        i { .transition(all 300ms ease); }
      }
    }
    #navbar { border-color: @cl-nav-left-back2; padding-bottom: 1rem; background-color: @cl-nav-left-back; margin: 0; height: 40px; border-width: 1px 0 0; border-style: solid;
      .links { .display-flex; .flex-flow(row nowrap); .align-items(center);
        .link { height: 40px; width: 40px; border-right: 1px solid @cl-nav-left-back2;
          .home { background-image: url('@{img-path}/svg/home.svg'); background-repeat: no-repeat; background-position: center center; background-size: 100%; width: 20px; height: 20px; }
          .icon-notification { background-image: url('@{img-path}/svg/notifications.svg'); background-repeat: no-repeat; background-position: center center; background-size: 100%; width: 20px; height: 20px; }
        }
        #notifications .unread-count { position: absolute; top: -6px; left: 10px; padding: 1px 5px; font-size: 1rem; font-weight: bold; color: #FFF; line-height: 1.4rem; vertical-align: middle; white-space: nowrap; text-align: center; .border-radius(10px); background-color: @cl-first; }
      }
      .search { .flex(1); height: 40px; margin-left: 5px;
        position: relative;
        .input-group { width: 100%;
          > .relative { max-width:450px; }
          input { background-color: transparent; border: 0; box-shadow: none; padding: 6px 12px 6px 28px; height: 40px; color:#FFF; }
          i.searchicon { position: absolute; left: 4px; z-index: 2; display: block; top: 12px; color: rgba(207,217,229,0.4); background-image: url('@{img-path}/search.png'); background-repeat: no-repeat; background-position: center center; background-size: 100%; width: 16px; height: 17px; }
        }
        &.open .input-group input { width: 450px; border: 1px solid @cl-nav-left-back-darker; border-bottom:0; }
        .search-results {
          width: 450px;
          margin: 0;
          padding: 0;
          list-style: none;
          position: absolute;
          z-index: 3;
          background: #FFF;
          border: 1px solid @cl-nav-left-back-darker;
          border-top: 0;
          .border-radiuses(0, 4px, 4px, 0);
          li.result {
            .group-type { padding: 0 7px 4px 7px; position: absolute; top: -1px; left: 0; border: 1px solid @cl-border; background-color: #FFF;
              i { font-size: 0.9rem; }
            }
            color: @cl-text;
            height: 44px;
            .display-flex;
            .flex-flow(row nowrap);
            .align-items(center);
            overflow: hidden;
            img {
              width: 40px;
              height: 40px;
              margin-left: 2px;
            }
            .name {
              .ft-opensans-extra-bold;
              font-size: 1.4rem;
              margin-right: 5px;
              .othername { color: @cl-subtext20; font-weight: normal; }
            }
            .disclaimer {
              white-space: nowrap;
              text-overflow: ellipsis;
              width: 100%;
              flex: 1;
              color: @cl-subtext30;
              font-style: italic;
              margin-right: 10px;
              overflow: hidden;
            }
            .status { padding-top:2px; margin-right: 4px; }
            &:nth-of-type(odd) {
              background-color: #f9f9f9;
            }
            &:hover {
              outline: 1px solid #c7c7c7;
              background-color: #f0f0f0 !important;
            }
            &:last-child {
              .border-radiuses(0, 4px, 4px, 0);
            }
            &.active {
              background: #439fe0; color: #fff!important; border-bottom-color: #2a80b9;
            }
          }
          .spinner, .empty {
            padding: 5px 15px;
            min-height: 40px;
            text-align: center;
            span { color:@cl-text; }
          }
          .presentation {
            background-color: #CCC;
            color: @cl-text;
            padding: 5px 15px 5px 10px;
            span {
              float: right;
              color: @cl-text;
              text-decoration: underline;
            }
          }
        }
      }
    }
    .scrollable { .align-self(flex-start); width: 100%; .flex(1 1 0); .scrollbar-grey-thin; overflow: auto;
      .page-sidebar-menu { padding: 0; margin:0; .display-flex; .flex-flow(column nowrap); width: 100%; }
      #ones, #rooms  { display: inline-block; }
      #ones, #rooms { padding: 0; margin: 0;
        .open-create-room { text-transform: lowercase; font-style: italic; }
        a { color:@cl-nav-left-text-lighter; }
        ul { padding-left: 0;
          &.empty li { padding: 0 5px 0 10px; font-style: italic; color: @cl-subtext20; }
          li.group-block+li.room-type.ungrouped, li.group-block+li.group-block { margin-top: 15px; } // spacing between groups
          li { list-style: none; margin-left: 5px; padding: 3px 0; .border-radiuses(0, 0, 5px, 5px);
            &.group-block { padding: 0; overflow: hidden; max-height: initial;
              .more { display:none; }
              &.collapsed { max-height: 155px;
                .less { display:none; }
                .more { display:block; }
              }
            }
            &.group { margin-top: 15px;
              &:first-child { margin-top: 0; }
              a { color:@cl-nav-left-text-lighter; }
            }
            &.group.simple-group { padding: 0 5px 5px 5px; margin-top: 0;}
            &.more, &.less { padding-left:20px; text-align: left; padding-right: 20px; }
            a { color: @cl-nav-left-text-lighter;
              i { color: @cl-nav-left-text-lighter; }
              &.close-discussion, &.close-group { display:none; }
            }
            .item { position: relative; color: @cl-nav-left-text-lighter; padding: 0 10px;
              .avatar-ctn { margin: auto;
                .avatar { width: 22px; height: 22px; display: inline; }
              }
              .name-ctn { .display-flex; .flex(1); margin: auto 0;
                .name, .username { .ft-opensans; display: inline-block; width: 138px; overflow: hidden; text-overflow: ellipsis; color:@cl-nav-left-text;
                  > span { font-size: 13px; }
                }
              }
              .close-discussion, .close-group { font-size: 1.6rem; margin:auto; }
              &.blocked { span.name { text-decoration: line-through; } }
              &.grouped {
                a { padding-left:5px;
                  .name { padding-left: 5px; font-weight: normal; }
                }
              }
            }
            &:hover { background-color: rgba(255,255,255,0.2);
              .item .name-ctn .name, .item .name-ctn .username { color:@cl-nav-left-text-lighter; }
              &.group-block { background-color: transparent; }
              .close-discussion + .unread { display:none; }
              .close-discussion, .close-group { display:block; }
            }
            &.active { background-color: @cl-background;
              &.group a, .item .name-ctn .name { color:@cl-text; }
              .close-group  i { color:@cl-nav-left-back; }
              .close-discussion  i { color:@cl-nav-left-back; }
            }
            &.highlighted.group-block { background-color: rgba(255,255,255,0.2); }
          }
        }
      }
      #ones li .item .name { font-weight:bold; }
    }
    .logo {
      background-image: url('@{img-path}/logo-onecolor-gr.svg');
      background-repeat: no-repeat;
      background-position: center center;
      background-size: 70%;
      width: 184px;
      min-height: 45px;
      height: 45px;
      .align-self(flex-end);
    }
  }

  #center { height: 100%; z-index: 5; margin-left: @size-left; background-color: @cl-subtext0; background-image: url('@{img-path}/logo-onecolor-gr.svg'); background-repeat: no-repeat; background-position: center center; background-size: 60%;
    .user-list { height: 100%;
      .list { overflow-y: auto; overflow-x: hidden; height: 100%; .scrollbar-white; padding-top:10px;
        .item { .pull-left; position: relative; margin:5px;
          .avatar { display: inline-block; width: 30px; height: 30px; }
          .username { display: none; position: absolute; top: 0; right: -20px; height: 30px; line-height: 30px; margin-right: 50px; padding-left: 10px; padding-right: 8px; background-color: @cl-subtext10; text-align: left; .ft-opensans-bold; color: #ffffff; z-index: 99999; white-space: nowrap; }
          &:hover .username { display: block; }
        }
      }
    }
    #search { height: 100%; display: none; background-color: @cl-background2; overflow-y: auto; .scrollbar-grey;
      .search { position: relative; margin: 20px 20px 2px;
        .input-group { width: 100%;
          input { .border-radiuses(4px, 0, 0, 4px); }
        }
        .search-options { border-bottom: 1px solid @cl-border; }
        .nav.nav-pills {
          li { border-bottom: 5px solid transparent; padding:10px; transition: border-color 0.5s ease; background-color: #FFF;
            a { .border-radius(0); padding:0;
              &:after { content:' '; border:1px solid #ccd6dd; position:absolute; right: -11px; width: 1px; height: 18px; display:inline-block; }
            }
            a:last-child:after { border-color:transparent; }
            &.active>a, &:hover>a, &:focus>a {
              background-color: transparent;
              color: initial;
            }
            &.active, &:hover, &:focus {
              border-bottom: 5px solid @cl-first;
            }
          }
        }

      }
    }
    #home { height: 100%; display: none; background-color: @cl-background2; overflow-y: auto; .scrollbar-grey;
      .title {
        .ft-opensans;
        color: @cl-subtext30;
        font-size: 1.6em;
        margin-bottom: 10px;
        a {
          color: @cl-first;
          &:hover {
            opacity: 0.5;
          }
        }
      }
      .nothing { .ft-opensans; color: @cl-subtext30; text-align: center; font-size: 1.2em; margin-top: 20px; }
      > .left { background-color: @cl-background2;
        .make-xs-column(12);
        .make-sm-column(10);
        .make-lg-column(9);
        height: 100%;
        overflow-x: auto;
        padding-left:0;
        padding-right:0;
        .disclaimer { text-align: center; margin: 20px; font-size: 1.5rem; }
      }
      > .right { .make-xs-column(0); .make-sm-column(2); .make-lg-column(3); height: 100%; padding: 20px 5px 20px 14px; background-color: @cl-subtext10;
        .users { height:100%;
          .list { overflow-y: auto; overflow-x: hidden; height: 100%; .scrollbar-white;
            .item { .pull-left; position: relative; margin-top: 10px; margin-right: 10px;
              .avatar { display: inline-block; width: 30px; height: 30px; }
              .username { display: none; position: absolute; top: 0; right: -20px; height: 30px; line-height: 30px; margin-right: 50px; padding-left: 10px; padding-right: 8px; background-color: @cl-subtext10; -moz-border-radius-topleft: 4px; -webkit-border-top-left-radius: 4px; border-top-left-radius: 4px; -moz-border-radius-bottomleft: 4px; -webkit-border-bottom-left-radius: 4px; border-bottom-left-radius: 4px; text-align: left; .ft-opensans-bold; color: #ffffff; z-index: 99999; white-space: nowrap; }
              &:hover .username { display: block; }
            }
          } // #chat #center #home .right .users .list
          .list.search {
            .item {
              .avatar {
                margin-left: -3px;
                margin-top: -1px;
                .pull-left;
              }
              .username {
                display: inline-block;
                position: relative;
                right: inherit;
                margin-right: 0;
                color: @cl-title;
                background-color: transparent !important;
                font-size: 1.1em;
              }
            }
            .item:hover {
              .username {
                display: inline-block;
              }
            }
          }
        } // #chat #center #home .right .users
      } // #chat #center #home .right
      &.loading .left .backdrop {
        background-color: rgba(0,0,0,0.5);
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 1;
        display: inline-flex !important;
        align-items: center;
        justify-content: center;
      }
    } // #chat #center #home
    .side { float: right; width: (@size-color + @size-right-mid); height: 100%; margin: 0; padding: 0; background-repeat: no-repeat; background-position: left top; .transition(width 300ms);
      @header-height: 35px; @size-user-item: 205px;
      .blur { width: @size-right-mid; position: relative; color: @cl-background; font-size: 1.1em; height: 100%; overflow-y: auto; .transition(width 300ms);
        .users { position: relative; padding: 10px 0 30px; height: 100%; background-color: rgba(0, 0, 0, 0.2); overflow-y: auto; .scrollbar-grey;
          .list { list-style: none; margin: 0 10px 0; overflow-y: auto; background-repeat: no-repeat; background-position: left top; position: relative; .justify-content(space-around); overflow-x: hidden; padding:0;
            > li { margin: 5px 0; float:left; width: 100%; }
            .clearfix { width:100%; height:5px; clear: both; float: none; }
            .li-title { margin: 0;
              .col-md-6 { padding: 0 5px;
                i {  height: auto; }
              }
            }
            .item { position: relative; font-size: 0.9em; font-weight: bold; white-space: nowrap; display: block; height: 34px;
              .infos { .display-flex; .flex-flow(row nowrap); .align-items(center); }
              .avatar { display: inline-block; width: 34px; height: 34px; margin-left:5px;
                .background { background-position: center center; background-size: 34px 34px; width: 34px; height: 34px; display: inline-block; border: 2px solid transparent; }
                &:hover .dropdown > .dropdown-toggle { display: block; }
              }
              &.op {
                .background { border-color:@cl-success; }
                .avatar::before { position: absolute; .icon-op; color:@cl-success; top: -6px; left: -4px; width: 12px; height: 16px; background-size: 12px 16px; }
              }
              &.devoice {
                .background { border-color:@cl-error; }
                .avatar::after { content: '\f037'; display: inline-block; font: normal normal normal 14px/1 'Donut'; text-rendering: auto; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transform: translate(0, 0); right: -6px; bottom: -6px; position: absolute; color: @cl-error; font-size: 17px; .border-radius(50%); }
              }
              &.owner {
                .background { border-color:@cl-warning; }
                .avatar::before { position: absolute; .icon-owner; color:@cl-warning; top: -9px !important; left: 10px !important; }
              }
            }
          }
          .count { float:left; padding: 3px 8px; font-weight: normal; }
        }
      }
      .visible-compact { display:none; }
      &.compact { .compact-sidebar; } // see mixin for shared compact sidebar
      &.oneside { width:@size-right-mid; }
      &.poster-empty {
        &.roomside { width:@size-right-mid; }
      }
      &.poster-full .dc-text-contrast { color:#fff; }
      &.poster-full .blur .users .list .item.dc-back-darker { background-color: transparent; border-style: solid; border-width: 1px 0; border-color:#FFF; margin: 0 14px; width: 187px; }
    }

    > .group { height: 100%; background-color: @cl-background2; overflow-y: auto; .scrollbar-grey-thin;
      .fl-left { float: left; }
      .content {position: relative; margin: 0 20px; .display-flex; .flex-flow(column nowrap);
        .header {  background-color: #FFF; margin-top: 20px; padding: 20px; min-height: 200px; border:1px solid @cl-border;
          .overlay-ctn  {
            .avatar { width:150px; height:150px; .border-shadow; }
            .group-type { padding: 7px; top: 0; position: absolute; left: 0; border: 3px solid @cl-border;
              i { font-size: 2.5rem; line-height: 2.5rem; }
            }
            .members { padding:10px; }
          }
          .info { .justify-content(space-between); .flex(1 1 auto); font-size: 1.3rem; margin-left:15px;
            .name { font-size: 2rem; .display-inline-flex; .ft-opensans-extra-bold; line-height: 1.2; word-break: break-all; }
            .dropdown { display: inline-block; position: relative;
              .dropdown-menu>li>a { color: @cl-subtext40; }
              button { font-size: 24px; border: none; background-color: transparent; }
            }
            .owner {  }
          }
          .actions .btn { white-space: nowrap; }
        }
        .reason, .disclaimer, .members { text-align: justify; font-size:1.6rem; margin-bottom:0; }
        .title { color:@cl-text; .ft-opensans-bold; font-size: 2rem; text-transform: capitalize; }
        .user-list { min-height:auto;
          .list { overflow: hidden;
            &.op { padding-top: 5px; }
            &.scrollable { overflow-y: auto; overflow-x: hidden; max-height: 90px; .scrollbar-grey-thin; }
            .item { position: relative; font-size: 0.9em; font-weight: bold; white-space: nowrap; display: block; height: 34px; margin:5px;
              .avatar { display: inline-block; width: 34px; height: 34px; background-size: 34px; background-position: center center; border: 2px solid #FFF;
                &:hover {
                  .dropdown>.dropdown-toggle {
                    display: block;
                  }
                }
              }
              .userstatus { position: absolute; top: -12px; left: -5px; z-index: 1; }
              .dropdown { position: absolute; width: 34px; height: 34px; top: 0;
                .dropdown-toggle { display:none; width: 34px; height: 34px; }
                .dropdown-menu { left:initial; right:0; }
              }
              &.op {
                .avatar { border-color:@cl-success; }
                .avatar::before { position: absolute; .icon-op; color:@cl-success; top: -6px; left: -4px; width: 12px; height: 16px; background-size: 12px 16px; }
              }
              &.devoice {
                .avatar { border-color:@cl-error; }
                &::after { content: '\f037'; display: inline-block; font: normal normal normal 14px/1 'Donut'; text-rendering: auto; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; transform: translate(0, 0); right: -1px; bottom: -1px; position: absolute; color: @cl-error; font-size: 19px; .border-radius(50%); }
              }
              &.owner {
                .avatar { border-color:@cl-warning; }
                .avatar::before { position: absolute; .icon-owner; color:@cl-warning; top: -9px !important; left: 10px !important; }
              }
            }
          }
        }
      }
    }

    .discussion { background-color: @cl-background; height: 100%;
      .content { height: 100%; position: relative; margin-left: 20px; .display-flex; .flex-flow(column nowrap);
        .header { padding-top: 18px; padding-right: 20px;
          .info { padding-left: 80px; }
        }
        &.blocked { .align-items(center);  .justify-content(center); position:relative;
          .header .info { padding:0; }
          .password-form { max-width: 555px; margin-left: auto; margin-right: auto;}
          .close-room { position: absolute; top: 20px; right: 20px; font-size: 1.4rem; }
        }
        .cover { text-align: center; }
        .header {
          .info { .justify-content(space-between); }
          .name { font-size: 2rem; .display-inline-flex; line-height: 1.2; word-break: break-all;
            .realname { .ft-opensans-extra-bold; }
            .username { .ft-opensans; color: @cl-subtext20; font-size: 1.8rem; }
          }
          &.room { min-height: 90px;
            .overlay-ctn {
              .avatar { position: absolute; width: 70px; height: 70px; .border-shadow; }
              .overlay { height: 70px; width: 70px; top:0; .border-radius(50%); }
              .overlay-text { width: 70px; top: 25px; }
            }
            .info {
              .room-profile { min-height:initial; min-width:initial; margin:auto; }
              .dropdown { display: inline-block; position: relative;
                .dropdown-menu>li>a { color: @cl-subtext40; }
                button { font-size: 24px; border: none; background-color: transparent; }
              }
              .share i { font-size: 14px; vertical-align: middle; cursor: pointer; }
            }
            .topic { padding-left: 80px;
              .topic-current { overflow: hidden; text-overflow: ellipsis; font-size: 1.5rem; font-style: initial; color: @cl-subtext20; }
              .topic-form { display: none;
                .input-group { .display-flex; .flex-flow(row nowrap); }
                input[type=text] { width: 100%; height: 28px; }
              }
            }
          }
          &.user {
            .avatar { position: absolute; width: 70px; height: 70px;
              img { width:100%;}
            }
            .banned-status { color: rgb(255, 78, 78); font-style: italic; }
            .not-confirmed { color: rgb(255, 78, 78); font-style: italic; }
            .show-if-banned { display:none; }
            &.is-banned .show-if-banned { display:initial; }
            &.is-banned .show-if-unbanned { display:none; }
            &.is-banned .avatar::after { .icon-ban; position: absolute; font-size: 69px; color: rgba(119, 119, 119, 0.75); top: -4px; line-height: 70px; left:0; }
            .info {
              .othername { color: @cl-subtext20; font-weight: normal; }
              .dropdown { display: inline-block; position: relative;
                button { font-size: 24px; border: none; background-color: transparent; }
              }
            } // #chat #center .discussion .content .header.user .info
            .status-block { font-size: 1.2em; margin-left: 80px; font-style: italic;
              i { font-size: 0.9em; }
              .ago { display: none; font-size: 0.9em; font-style: italic; }
              &.online {
                .display-online { display: inline; }
                .display-offline { display: none; }
              }
              &.offline {
                .display-online { display: none; }
                .display-offline { display: inline; }
              }
            } // #chat #center .discussion .content .header.user .status-block
          } // #chat #center .discussion .content .header.user
        }
        .events { /*border-top: 1px solid @cl-subtext10;*/ overflow-y: scroll; overflow-x: hidden; .flex(1); .scrollbar-grey; position: relative; margin-top: 60px;
          .scrollable { margin-right: 5px;
            .scrollable-content { position: relative;
              hr { border-color: @cl-subtext5; }
              .pad { min-height: 30px; text-align: center; font-size: 2em;
                i { display: none; }
                &.loading  i { display: inline-block; .spin; }
              }
              .loader { padding: 10px; text-align: center; font-size: 1.1em; .border-radius(2px);
                .arrow { font-size: 1.4em; padding-left: 50px; padding-right: 50px; }
                .loading { display: none;
                  .spinner { font-size: 1.3em; }
                }
                .no-more { margin:50px 0; display: none; text-align: left;
                  .title { font-size:3rem; .ft-opensans-bold; }
                  .info { font-size: 2rem;
                    .name, .owner { font-size:2rem; font-weight:normal; }
                  }
                  .actions { padding: 15px 0;
                    > a { margin: 0 10px; text-decoration:underline;
                      &:first-child { margin-left:0; }
                      &:hover { text-decoration:none; }
                    }
                  }
                }
              }
              .realtime {
                a.mention { font-weight: bold; }
                .block.hello,
                .block.topic,
                .block.kick,
                .block.ban,
                .block.groupban,
                .block.deban,
                .block.op,
                .block.deop,
                .block.voice,
                .block.command-help,
                .block.devoice {
                  clear: both;
                  margin-top: 5px;
                  padding: 5px;
                  img { height: 20px; }
                  .avatar {
                    display: inline-block;
                    width: 20px;
                    height: 20px;
                    background-position: center center;
                    background-size: 20px 20px;
                    vertical-align: middle;
                    .border-radius(3px);
                  }
                  .username { font-weight: bold; }
                  .detail { font-weight: normal; }
                  .event {
                    .text {
                      font-style: italic;
                      padding-right: 50px;
                      img { margin-right: 3px; }
                    }
                  }
                }
                .block { line-height: 19px; position: relative;
                  &.message { word-break: break-word; } // unofficial but working : http://caniuse.com/#feat=word-break
                  &.date + .block { border-top: transparent; }
                  &.hello { padding-top: 10px; font-size: 1.5rem; line-height: 2rem;
                    i {
                      color: @cl-success;
                      vertical-align: baseline;
                      line-height: normal;
                    }
                    .event .text p { margin-bottom: 5px; }
                  }
                  &.promote, &.topic {
                    i {
                      .icon-fw;
                      font-size: 1.2em;
                      color: @cl-text;
                      vertical-align: middle;
                      line-height: normal;
                    }
                    .avatar { margin-right:5px; }
                  }
                  .event {
                    .date {
                      position: absolute;
                      top: 3px; right: 20px;
                      color: @cl-subtext30;
                      font-size: 0.8em;
                    }
                    &.out {
                      i {
                        font-size: 1.6em;
                        color: @cl-error;
                        vertical-align: middle;
                      }
                    }
                    &.in {
                      i {
                        font-size: 1.6em;
                        color: @cl-success;
                        vertical-align: middle;
                      }
                    }
                    &.online {
                      i {
                        font-size: 1.8em;
                        color: @cl-success;
                        vertical-align: middle;
                      }
                    }
                    &.offline {
                      i {
                        font-size: 1.8em;
                        color: @cl-error;
                        vertical-align: middle;
                      }
                    }
                  }
                }
                .block.user { margin-top: 7px; padding-top: 23px; padding-left: 40px; clear: both; border-top: 1px solid @cl-subtext0;
                  .avatar { position: absolute; top: 5px; left: 5px; border: none; width: 35px; height: 35px; background-position: center center; background-size: 35px 35px; .border-radius(4px); }
                  .username { position: absolute; top: 5px; left: 55px; .ft-opensans-bold; font-size: 1em; }
                  .othername { color: @cl-subtext20; font-weight: normal; }
                }
                .block.message { position: relative; padding: 2px 0 2px 55px; border-top: 0;
                  .text-spammed { display:none; }
                  .date {
                    position: absolute;
                    top: 3px; right: 20px;
                    color: @cl-subtext30;
                    font-size: 0.8em;
                  }
                  .text {
                    padding: 0 50px 0 0;
                    display : block;
                    a { font-weight: bold; }
                    .text-edited { font-size: .9rem; color: #0480be; }
                  }
                  .images {
                    .file-ctn { width: 100px; height: 100px; float: left; margin: 2px; border: 1px solid @cl-subtext10;
                      .file { .display-flex; width: 100px; height: 100px; background-size: contain; color:@cl-text;
                        &:hover { text-decoration: none; }
                        i { margin:auto; font-size: 4rem; color:@cl-subtext40; }
                      }
                      .filename { position: absolute; top: 2px; left: 0; margin: 0 2px; background-color: @cl-detail; width: 96px; padding: 2px; color: @cl-clouds; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; height: 18px; .border-radiuses(0 0 3px 3px); line-height: 1.1rem; font-size: 1.1rem; }
                      .filesize { position: absolute; bottom: 1px; right: 0; margin: 0; background-color: @cl-subtext20; width: auto; padding: 2px 5px 2px 10px; border-radius: 3px 0 0 3px; font-style: italic; color: @cl-clouds; }
                    }
                    .image {
                      float:left;
                      display: block;
                      position: relative;
                      width: 100px;
                      height: 100px;
                      margin: 2px;
                      background-position: center center;
                      background-repeat: no-repeat;
                      border: 1px solid @cl-subtext10;
                    }
                    .popover {
                      .border-radius(0);
                      .popover-content {
                        padding: 2px 2px;

                      }
                    }
                    hr {
                      clear: both;
                      border-color: @cl-background;
                      margin: 0;
                    }
                  }
                  .actions { float: right; font-size: 14px; right: 0; position: absolute; top: 0; color: #777; display:none;
                    i { color:#777 }
                    &.open .dropdown-menu { display: block; .opacity(1); min-width: initial; }
                    .dropdown-menu {display: block; padding: 0; margin: 0; right:-2px; left: initial; bottom: 25px;  top: initial; .opacity(0); font-size:0.9em;
                      .arrow-up {  width: 0; height: 0; border-style: solid;   border-width: 5px 5px 0 5px;
                        border-color: #ccc transparent transparent transparent; position: absolute; bottom: -6px; right: 2px; display: block; padding: 0; }
                      ul.a { padding: 0; margin: 0; white-space: nowrap;
                        li {  list-style: none; text-align: left; padding: 5px 10px 5px; cursor:pointer;
                          &:hover { background-color: @cl-subtext5;
                            a { text-decoration:underline; }
                          }
                          &.unspam { display: none; }
                        }
                      }
                    }
                  }
                  &.new { border-left: 3px solid #5C77B6; padding-left: 4px; }
                  &.has-hover:hover .actions, .actions.open { display:block; }
                  &.spammed {
                    .text, .images { display: none; }
                    .actions .dropdown-menu ul.a li.unspam { display:block; }
                    .actions .dropdown-menu ul.a li.spammed { display:none; }
                    .text-spammed { display: block; font-style: italic; color: #333; padding-right:50px;
                      a { cursor:pointer; }
                    }
                  }
                  &.viewed {
                    .actions .dropdown-menu ul.a li.unspam { display:block; }
                    .actions .dropdown-menu ul.a li.spammed { display:none; }
                    .ctn { background-color: lighten(#e74c3c, 30%);
                      .remask-spammed-message {
                        float: left;
                        font-weight: normal;
                        font-size: 10px;
                        color: @cl-clouds;
                        margin: 2px 5px 0 2px;
                      }
                    }
                  }
                  .message-form { display:none; padding: 5px 5px 5px 5px; .border-radius(5px); background-color: #d8d4d4;
                    textarea { resize:none;}
                    .enter { float:right;}
                    a { color: #2a80b9; text-decoration:none; }
                    a:hover { text-decoration:underline; }
                  }
                }
                .block.inout {
                  float: left;
                  border-top: 0;
                  padding-top: 5px;
                  .event {
                    display: inline-block;
                    margin: 0 4px 4px 0;
                    padding: 4px;
                    border: 2px solid transparent;
                    .border-radius(10px);
                    .username { display: none; }
                    .avatar {
                      display: inline-block;
                      margin-right: 0;
                      width: 20px;
                      height: 20px;
                      background-position: center center;
                      background-size: 20px 20px;
                    }
                    .icon {}
                    &.in:hover {
                      border-color: @cl-success;
                    }
                    &.out:hover {
                      border-color: @cl-error;
                    }
                  }
                }
                .block.spinner {
                  text-align: center;
                  color: @cl-title;
                  font-size: 12px;
                  background-color: @cl-subtext0;
                  .border-radius(5px);
                  padding: 11px;
                }
                .block.command-help {
                  padding: 5px;
                  .help-cmd {
                    margin: 5px;
                    .name-cmd { font-weight: bold; }
                    .params-cmd { color: #8699a4; }
                    .desc-cmd { font-style: italic; }
                  }
                }
                .block.command-error {
                  padding: 5px;
                  .error-command {font-weight: bold; color: #000;}
                  .error {font-style: italic; color: #8699a4;}
                }
                .block.ping, .block.me, .block.random {
                  font-style: italic;
                  color: @cl-subtext30;
                }
                .block.user+.block.message { padding-top:0; }
                &.compact {
                  .block { .display-flex; z-index: 1; padding-left:0;
                    &.user { padding-top: 5px; border-top: 1px solid @cl-subtext0; margin-top: 5px;
                      .username { display:none; }
                    }
                    &.date { display:block; }
                    &.date + .block { border-top: transparent; }
                    &.message {
                      .username { display:inline !important; .flex-order(2); margin-right: 5px; }
                      .ctn { .flex-order(3); width: 100%; }
                    }
                    &.topic, &.promote {
                      .event { .display-flex; z-index: 1;
                        .text { .flex-order(2);
                          i { font-size: 1.2rem; margin: auto; height: auto; width:auto; }
                        }
                      }
                    }
                    &.inout {
                      .username { display:inline; .flex-order(1); }
                      i { .flex-order(2); margin:0 !important; }
                    }
                    &.hello { font-size: 1.2rem; line-height: 1.2rem;
                      .text { border:0; padding:0; }
                    }
                    .username { white-space: nowrap; .ft-opensans-bold; font-size: 1.2rem; }
                    .avatar { display:none !important; }
                    .date { white-space: nowrap; .flex-order(1); position:relative; top: initial; right: initial; margin-right: 5px;
                      &.same { visibility: hidden; }
                    }
                  }
                }
              } // #chat #center .discussion .content .events .scrollable .scrollable-content .realtime
            } // // #chat #center .discussion .content .events .scrollable .scrollable-content
          } // #chat #center .discussion .content .events .scrollable
        } // #chat #center .discussion .content .events
        .input { padding-top: 5px; margin-right: 25px; padding-bottom: 10px; position: relative;
          .add-image, .add-file, .add-smiley {
            cursor: pointer;
          }
          .text-container { margin-bottom: 10px; position:relative;
            .overlay { display:none; background-color: rgba(67, 74, 84, 0.8); height: 100%; width: 100%; position: absolute; top: 0; cursor: pointer; z-index: 2;
              .overlay-text { color: white; width: 100%; text-align: center; cursor: pointer; font-size: 1.8rem;}
            }
            .text {
              position: relative;
              padding: 5px 95px 5px 45px;
              border: 1px solid @cl-subtext15;
              background-color: @cl-background;
              .border-radius(4px);
              .avatar {
                position: absolute;
                left: 8px;
                top: 7px;
                width: 30px;
                height: 30px;
              }
              .actions { position: absolute; top: 5px; right: 45px; text-align: center; height: 46px; width: 60px;
                a { display: inline-block; margin-right: 3px; }
                .images.add-image { margin-top: 5px; }
                .images {
                  font-size: 1.5rem;
                }
              }
              .mentions { padding: 0; font-size: 13px; }
              .mentions-autocomplete-list {
                z-index: 10001;
                top: initial;
                overflow: auto;
                font-size: 13px;
              }
              .mentions-input-box .mentions>div>strong { }
              .editable {
                width: 100%;
                padding: 0;
                display: block;
                min-height: 30px;
                border: none;
                overflow: auto;
                outline: none;
                resize: none;
                .box-shadow(none);
                font-size: 13px;
              }
              .send { position: absolute; top: 0; bottom: 0; right: 0; width: 40px; margin: 0; border: 0; padding-top: 12px; padding-left: 2px; display: inline-block; text-align: center;
                img { width: 15px; height: 17px; }
                .arrow-bottom:after { content: ""; position: absolute; bottom: -8px; left: 12px; border-style: solid; border-width: 8px 8px 0; border-right-color: transparent; border-left-color: transparent; border-top-color: inherit; border-bottom-color: inherit; display: block; width: 0; z-index: 2; }
              }
            }
          }
          &.inactive .text-container {
            .overlay, .overlay::after { .display-flex; .align-items(center); }
            &:after { content: ""; position: absolute; bottom: -7px; right: 12px; border-style: solid; border-width: 8px 8px 0; border-right-color: transparent; border-left-color: transparent; border-top-color: rgba(67, 74, 84, 0.8); border-bottom-color: rgba(67, 74, 84, 0.8); display: block; width: 0; z-index: 2; }
          }
          .typing-container {
            position: absolute;
            display: block;
            bottom: 1px;
          }
          .preview {
            padding-top: 2px;
            display: none;
            .image {
              &.file{ border: 1px solid @cl-subtext10; .display-inline-flex;
                &:hover { text-decoration: none; }
                .icon-file { margin:auto; font-size: 4rem;  }
              }
              background-size: contain;
              background-position: center center;
              display: inline-block;
              vertical-align: top;
              position: relative;
              width: 80px;
              height: 80px;
              margin: 2px;
              .remove-image {
                position: absolute;
                right: 5px;
                display: none;
                color: @cl-error;
                cursor: pointer;
                font-size: 1.3em;
              }
              &:hover {
                .remove-image {
                  display: inline;
                }
              }
            }
            .add-image {
              display: inline-block;
              vertical-align: top;
              border: 2px dashed @cl-subtext20;
              .border-radius(2px);
              width: 80px;
              height: 80px;
              margin: 2px;
              padding-top: 28px;
              text-align: center;
              i {
                font-size: 1.9em;
                color: @cl-subtext20;
              }
            }
          }
          &.open {
            .text-container .text { .border-radiuses(0, 4px, 4px, 0); padding: 4px 94px 4px 44px; border: 2px solid @cl-nav-left-back;
              .avatar { left: 7px; top: 6px; }
              .actions { top: -4px; right: 44px; }
              .send { padding-top: 11px; padding-left: 4px;
                .arrow-bottom:after { left: 13px; border-width: 9px 9px 0; }
                .arrow-bottom:before { content: "";
                  position: absolute;
                  bottom: -11px;
                  left: 12px;
                  border-style: solid;
                  border-width: 10px 10px 0;
                  border-right-color: transparent;
                  border-left-color: transparent;
                  border-top-color: @cl-nav-left-back;
                  border-bottom-color: @cl-nav-left-back;
                  display: block;
                  width: 0;
                  z-index: 1; }
              }
            }
            .rollup-container .ctn { border: 2px solid @cl-nav-left-back; .border-radiuses(4px, 0, 0, 4px); bottom:-2px; }
          }
        }
      } // #chat #center .discussion .content
    }
  } // #chat #center

  hr {
    border-top-color: #dadada;
    margin-top: 12px;
    margin-bottom: 15px;
    margin-left: 18px;
    margin-right: 18px;
  }

  .big-link {
    .ft-opensans-bold;
    color: @cl-subtext50;
    font-size: 1.1em;
  }

  .home>.dropdown-menu>li>a,
  .share,
  .open-group-edit,
  .open-group-profile,
  .open-group-access,
  .open-group-delete,
  .open-room-edit,
  .open-room-profile,
  .open-user-profile,
  .open-group-users,
  .open-group-users-allowed,
  .open-room-delete,
  .open-room-users,
  .open-room-users-allowed,
  .open-room-access,
  .open-user-edit,
  .open-user-account,
  .open-user-preferences,
  .open-create-room,
  .toggle-current-user-sounds,
  .go-to-search,
  .ban-user,
  .deban-user,
  .open-room-preferences,
  .quit-group,
  .close-group,
  .close-discussion {
    cursor:pointer;
  }

  #alert {
    .alert { display: none; position: absolute; top: 0; left: 0; right: 0; min-height: 45px; z-index: 1031; padding: .4em .6em .4em; background-color: @cl-neutral; font-size: 1.5em; color: @cl-background; text-align: center; white-space: nowrap;
      .ft-opensans-bold;
      .close-btn { position: absolute; top: 8px; right: 12px; cursor: pointer;
        img { width: 25px; height: 25px; }
      }
    }
    .alert.info { background-color: @cl-success;}
    .alert.warning { background-color: @cl-warning; }
    .alert.error { background-color: @cl-error; }
  }

  .block { margin: 0;
    &.date { margin-top: 25px; margin-bottom: 25px; clear: both; border-top: 0; height: 1px; background-color: @cl-subtext10; text-align: center;
      .moment { position: relative; top: -0.7em; background-color: @cl-background; text-align: center; font-size: 1.5rem; font-weight: bold; color: @cl-subtext30; padding: 0 10px; text-transform: capitalize;
        &.today, &.yesterday { display:none; }
      }
      &.today .moment.today,
      &.yesterday .moment.yesterday{ display:inline; }
      &.today .moment.current,
      &.yesterday .moment.current{ display:none; }
    }
    &.unviewed { margin: 25px 10px 25px 5px; clear: both; border-top: 0; height: 1px; background-color: @cl-first; text-align: center;
      .title { position: absolute; right:0; height:20px; top: -0.9rem; background-color: @cl-background; text-transform: uppercase; font-size: 1rem; color: @cl-first; padding: 0 10px; font-weight:700; }
    }
    &.unviewed-top { .border-radius(3px); text-transform: uppercase; font-size: 1rem;
      .jumpto, .mark-as-viewed { font-weight:700; }
      background-color: @cl-first;
      padding: 5px 10px;
      color: #FFF;
    }
  }

  .date-ctn { margin-top: 10px; padding: 0 12px 10px 0; position: absolute; width: 100%; background-color: white; z-index: 2; min-height: 22px }

  @import './drawer';
}